# epicManual

# Notes to add to documentation

If you want to compile the BookDown yourself/add new documentation:

```
bookdown::render_book("1-epic.Rmd", "bookdown::gitbook", output_dir="docs")
```

The output_dir must be "docs" in order to work with Github Pages. 

## Use of HTML in BookDown

In the Rmd files, you will see code chunks that incorporate raw HTML. For example, in `3-package-in-r.Rmd`:

```
library(htmltools)
rawHTML <- paste(readLines("html/section-3/extended-results-cardio.html"), collapse="\n")
HTML(rawHTML)
```

Basically this allows me to write some parts in HTML/CSS/Javascript, and BookDown will incorporate it inline. All the `.html` files are in the `html` folder, which is divided into folders for each Section (each Rmd file is a section).

## Creating HTML Elements from ROxygen

If you go to: https://resplab.github.io/epicManual/section-packageinR.html#section-exacerbation-charts, you will find an interactive table describing the arguments for the plotExacerbations function in `epicR`. To streamline the documentation, I decided to reuse this component. I wanted to be able to take the documentation generated by ROxygen2 in the `epicR` app, and convert that into one of these tables. To do this, I made a copy of the `man` folder from `epicR` and added it to the `epicBookDown` package. This folder contains all the ROxygen `.Rd` files from `epicR`. 

In the file `R/readArguments.R`, you can call the function `getItemizeDocs`. This function will read through the `man` folder and find the function you want to document. It will then create a table component as an `.html` file, and add this new file to the `html` folder in the appropriate section. 

An example of the `getItemizeDocs()` function:

```
library(htmltools)
source("R/readArguments.R")
getItemizeDocs("plotExacerbations", section = 3)
rawHTML <- paste(readLines("html/section-3/plotExacerbations-arguments.html"), collapse="\n")
HTML(rawHTML)
```